---
title: "Android 서비스 만들기"
description: "이 가이드에서는 활성 사용자 인터페이스 없이 수행할 작업을 허용 하는 Android 구성 요소인 Xamarin.Android 서비스. 서비스 음악 재생 파일을 다운로드 하는 시간이 오래 걸리는 계산과 같은 백그라운드에서 수행 되는 작업에 대 한 매우 일반적으로 사용 하는 등에입니다. 서비스에 대 한 적합 한 다양 한 시나리오를 설명 하 고 장기 실행 백그라운드 작업을 수행 하기 위한 물론 원격 프로시저 호출에 대 한 인터페이스를 제공 하는 데이 구현 하는 방법을 보여 줍니다."
ms.topic: article
ms.prod: xamarin
ms.assetid: BA371A59-6F7A-F62A-02FC-28253504ACC9
ms.technology: xamarin-android
author: mgmclemore
ms.author: mamcle
ms.date: 02/16/2018
ms.openlocfilehash: 77a3db2b36a0fb423ac2481fbde80c1a732cac4b
ms.sourcegitcommit: 6cd40d190abe38edd50fc74331be15324a845a28
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/27/2018
---
# <a name="creating-android-services"></a>Android 서비스 만들기

_이 가이드에서는 활성 사용자 인터페이스 없이 수행할 작업을 허용 하는 Android 구성 요소인 Xamarin.Android 서비스. 서비스 음악 재생 파일을 다운로드 하는 시간이 오래 걸리는 계산과 같은 백그라운드에서 수행 되는 작업에 대 한 매우 일반적으로 사용 하는 등에입니다. 서비스에 대 한 적합 한 다양 한 시나리오를 설명 하 고 장기 실행 백그라운드 작업을 수행 하기 위한 물론 원격 프로시저 호출에 대 한 인터페이스를 제공 하는 데이 구현 하는 방법을 보여 줍니다._

## <a name="android-services-overview"></a>Android 서비스 개요

모바일 앱은 데스크톱 앱 처럼 없습니다. 데스크톱 금액이 복사 화면 자원을, 메모리, 저장소 공간 및 연결 된 전원 공급 장치 등의 리소스, 모바일 장치는 그렇지 않습니다. 이러한 제약 조건을 강제로 다르게 동작 하도록 모바일 응용 프로그램입니다. 예를 들어 모바일 장치에서 작은 화면 해당 하나의 앱만 (즉, 활동) 한 번에 표시 됩니다. 일반적으로 의미 합니다. 다른 활동 백그라운드도 이동 하 고 작업을 수행할 수 없다고 일시 중단된 된 상태에 밀어 넣는 됩니다. 그러나 Android 응용 프로그램을 해 서 백그라운드 의미가 계속 작업 하려면 응용 프로그램을 위한 수 있다는 것입니다. 

Android 응용 프로그램 구성 된 하나 이상의 다음 네 가지 기본 구성 요소: _활동_, _브로드캐스트 수신기_, _콘텐츠 공급자_, 및 _서비스_합니다. 응용 프로그램과 상호 작용할 수 있도록 허용 하는 UI를 제공 하기 때문에 활동은 많은 유용한 Android 응용 프로그램의 기초입니다. 그러나 실행 동시 또는 백그라운드 작업에 관한, 활동 않습니다 항상 최선의 선택 합니다.
 
Android에서 백그라운드 작업에 대 한 기본 메커니즘은는 _서비스_합니다. Android 서비스는 사용자 인터페이스 없이 작업을 수행 하도록 디자인 된 구성 요소입니다. 서비스 수 파일을 다운로드 하거나 음악 재생 되며 이미지에 필터를 적용 합니다. 서비스 프로세스 간 통신에 사용할 수도 있습니다 (_IPC_) Android 응용 프로그램 사이입니다. 예를 들어 하나의 Android 앱 음악 플레이어 되는 서비스를 다른 응용 프로그램 으로부터 하거나 응용 프로그램 데이터 (예: 사용자의 연락처 정보)를 다른 응용 프로그램 서비스를 통해 노출 될 수 있습니다. 

서비스 및 백그라운드 작업을 수행 하는 기능이 원활 하 고 유동적인 사용자 인터페이스를 제공 하는 데 중요 합니다. 모든 Android 응용 프로그램는 _주 스레드_ (라고도 _UI 스레드_)에 활동이 실행 됩니다. 장치를 응답 가능한 상태로 유지 하려면 Android 초당 60 프레임의 속도로 사용자 인터페이스를 업데이트할 수 있어야 합니다. Android 앱 주 스레드에서 많은 작업을 수행한 다음 Android 프레임은 삭제 비정상적으로 표시 하도록 UI를 다시 이르게 하는 경우 (또한 라고도 _janky_). 즉, 두 개의 프레임 약 16 밀리초 (1 모든 60 프레임을 두 번째) 사이의 시간 동안 UI 스레드에서 수행 된 모든 작업을 완료 해야 합니다. 

이 문제를 해결 하기 위해 개발자는 UI를 차단 하는 몇 가지 작업을 수행 하려면 활동에서 스레드를 사용할 수 있습니다. 그러나이 문제가 발생할 수 있습니다. 되기 매우 Android 삭제 되며 활동의 여러 인스턴스를 다시 만듭니다. 그러나 Android 메모리 누수가 발생할 수 있는 스레드를 자동으로 제거 되지 않습니다. 이 가장 대표적인 예는 경우는 [장치 회전](~/android/app-fundamentals/handling-rotation.md) &ndash; Android 활동의 인스턴스를 삭제 한 다음 새 다시 작성 하려고 합니다:

![장치를 회전할 때 인스턴스 1 개체가 제거 되 고 인스턴스 2 만들어집니다.](images/image-01.png)

이것은 잠재적인 메모리 누수 &ndash; 활동의 첫 번째 인스턴스에서 만든 스레드가 계속 실행 됩니다. 스레드마다 활동의 첫 번째 인스턴스에 대 한 참조, 가비지 수집 개체에서에서 Android 수 없게 됩니다. 그러나 활동의 두 번째 인스턴스는 여전히 생성 됩니다 (있음 차례로 새 스레드를 만들 수 있습니다). 빠르게 연속적으로 여러 번 장치 회전 모든 RAM이 중단 될 수 있습니다 및 메모리를 회수 하는 전체 응용 프로그램을 종료 하는 Android을 강제 합니다.

경험상,으로 작업이 수행 되도록 해야 작업 보다 수명이 깁니다. 다음 서비스를 작성 해야 해당 작업을 수행 하도록 합니다. 그러나 활동의 컨텍스트에서 해당만 되는 작업 하는 경우 다음 작업을 수행 하는 스레드를 만들어 더 적합할 수 있습니다. 예를 들어, 사진 갤러리 응용 프로그램에 방금 추가 된 사진에 대 한 미리 보기 만들기 해야 서비스에서 발생할 수 있습니다. 그러나 스레드 활동 전경 중인 동안에 들 해야 하는 일부 음악 재생을 더 적합할 수 있습니다.

백그라운드 작업 광범위 한 두 가지 분류로 구분할 수 있습니다.

1. **장기 실행 작업** &ndash; 명시적으로 중지 될 때까지 진행 중인 작업입니다. 예로 _장기 실행 작업_ 은 음악을 스트림 하는 앱 또는 센서에서 수집 된 데이터를 모니터링 해야 하는 합니다. 이러한 작업은 응용 프로그램에 표시 되는 사용자 인터페이스가 없는 경우에 실행 해야 합니다.
2. **정기 작업** &ndash; (라고도 _작업_)는 정기적인 작업은 비교적 짧은 시간 (몇 초)에 일정에서 실행 되 고 있는 서버 (예: 하루에 한 번를 1 주일 또는 시스템에서 한 번만 다음 60 초)입니다. 이러한 예제를 인터넷에서 파일을 다운로드 되었거나 이미지에 대 한 미리 보기를 생성 합니다.

Android 서비스의 네 가지 유형이 있습니다.

* **서비스에 바인딩된** &ndash; A _서비스 바인딩된_ 는 몇 가지 다른 구성 요소 (일반적으로 활동)에 연결 되도록 하는 서비스입니다. 바인딩된 서비스 바인딩된 구성 및 서비스를 서로 상호 작용을 허용 하는 인터페이스를 제공 합니다. 더 이상의 클라이언트 서비스에 바인딩된 일단 Android 종료 됩니다 서비스.

* **`IntentService`** &ndash;  _`IntentService`_  의 특수화 된 서브 클래스는 `Service` 서비스 만들기 및 사용을 간소화 하는 클래스입니다. `IntentService` 은 개별 자치 호출을 처리 하기 위한 것입니다. 여러 호출을 동시에 처리할 수, 서비스와 달리는 `IntentService` 비슷합니다는 _큐 프로세서 작업_ &ndash; 작업 큐에 저장 및 `IntentService` 단일 작업자 스레드에 대해 한 번에 하나의 각 작업을 처리 합니다. 일반적으로`IntentService` 활동 또는 조각에 바인딩되어 있지 않습니다. 

* **서비스를 시작 했습니다** &ndash; A _서비스를 시작 했습니다_ 다른 Android 같은 일부 구성 요소 (활동) 하 여 시작 된 무언가 명시적으로 지시 될 때까지 계속 해 서 백그라운드에서 실행 하는 서비스는 서비스를 중지 합니다. 바인딩된 서비스와는 달리 시작된 되는 서비스에 없는 직접 바인딩된 모든 클라이언트입니다. 이러한 이유로 것은 정상적으로 다시 시작 될 수 필요에 따라 시작된 된 서비스를 디자인 해야 합니다.

* **하이브리드 서비스** &ndash; A _하이브리드 서비스_ 는의 특성을 가진 서비스는 _서비스를 시작 했습니다_ 및 _서비스 바인딩된_합니다. 구성 요소는 해당 인스턴스에 바인딩됩니다 하거나 일부 이벤트에 의해 시작 될 수 있습니다 하 여 하이브리드 서비스를 시작할 수 있습니다. 클라이언트 구성 요소 수도 있습니다 하이브리드 서비스에 연결 되어 있지 않습니다. 을 중지 하려면 명시적으로 지시 될 때까지 또는 더 이상의 클라이언트에 바인딩된 없을 때까지 계속 하이브리드 서비스를 실행 됩니다.

어떤 유형의 서비스를 사용 하는 응용 프로그램 요구 사항에 따라 달라 집니다. 경험상,으로 `IntentService` 또는 바인딩된 서비스 되므로 Android 응용 프로그램 수행 해야 하는 대부분의 작업에 대 한 충분 한 기본 설정 서비스의 이러한 두 가지 형식 중 하나에 부여 해야 합니다. `IntentService` 바인딩된 서비스는 활동/부분와 자주 상호 작용에 필요한 경우 적합 한 수는 파일을 다운로드 하는 등의 "단일 쇼트" 작업에 대 한 것이 좋습니다. 

대부분의 서비스를 백그라운드에서 실행 하는 동안 이라는 특별 한 하위 범주는 _전경 서비스_합니다. 사용자 (예: 음악 재생)에 대 한 몇 가지 작업을 수행 하려면 (일반 서비스 비교)는 더 높은 우선 순위를 지정 된 서비스입니다. 

것도 가능 자체 프로세스에서 동일한 장치에 서비스를 실행 하려면,이 경우에 따라 라고는 _원격 서비스_ 로 _out-of-process-서비스_합니다. 이 만들려는 더 많은 노력이 필요 하지만 다른 응용 프로그램과 기능을 공유 하는 응용 프로그램을 필요로 하는 경우에 유용할 수 있습니다 하 고, 경우에 따라 성능을 향상 시킬 수는 사용자 응용 프로그램의 합니다. 

이러한 각 서비스는 자체 특성 및 behaviours, 및 자신의 가이드에 자세히 다룰 수 됩니다.
