---
title: SiriKit 개념 이해
description: 이 문서에서는 필요한 SiriKit Xamarin.iOS 앱에서 사용 하기 위한 주요 개념을 설명 합니다.
ms.prod: xamarin
ms.assetid: 99EC5C1E-484F-4371-8555-58C9F60DE37F
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 05/02/2017
ms.openlocfilehash: 56325345204cd2017d688375d9d51c5c83f15e26
ms.sourcegitcommit: e16517edcf471b53b4e347cd3fd82e485923d482
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/07/2018
---
# <a name="understanding-sirikit-concepts"></a>SiriKit 개념 이해

_이 문서에서는 필요한 SiriKit Xamarin.iOS 앱에서 사용 하기 위한 주요 개념을 설명 합니다._


새로운 iOS 10 SiriKit iOS 장치에서 Siri와 지도 응용 프로그램을 사용 하는 사용자에 액세스할 수 있는 서비스를 제공 하도록 Xamarin.iOS 앱을 허용 합니다. 새를 사용 하 여 하나 이상의 응용 프로그램 확장에서이 기능을 제공 **의도** 및 **의도 UI** 프레임 워크입니다.

SiriKit 응용 프로그램 확장 및 새를 사용 하 여 iOS 장치에서 Siri와 지도 응용 프로그램을 사용 하는 사용자에 액세스할 수 있는 서비스를 제공 하는 iOS 앱을 사용 하면 **의도** 및 **의도 UI** 프레임 워크입니다.

Siri의 개념과 작동 **도메인**, 그룹의 관련된 작업에 대 한 작업을 알고 있습니다. Siri와 응용 프로그램에 있는 각 상호 작용 다음과 같은 알려진된 서비스 도메인 중 하나에 해당 해야 합니다.

- 오디오 또는 비디오 호출 합니다.
- 안에서 예약 합니다.
- 체력 단련을 관리 합니다.
- 메시징입니다.
- 사진을 검색 합니다.
- 송신 하거나 수신 지불 합니다.

사용자가 앱 확장의 서비스 중 하나는 관련 된 Siri의 요청, SiriKit 확장 보냅니다는 **의도** 지원 데이터와 함께 사용자의 요청을 설명 하는 개체입니다. 앱 확장 한 다음 적절 한 생성 **응답** 개체에 대 한는 주어진 **의도**, 확장에서 요청을 처리할 수는 방법에 대해 자세히 설명 합니다.

## <a name="the-intents-and-intents-ui-extensions"></a>의도 및 의도 UI 확장 프로그램

Siri와 지도 앱 모두에 두 가지 유형의 앱 확장을 통해 응용 프로그램의 서비스 상호 작용합니다.

- **의도 확장** -의 내용을 제공 Siri 및 지도 앱 및 모든 지원 되는 의도 처리 하는 데 필요한 작업을 수행 합니다.
- **의도 UI 확장** -Siri 또는 지도 내부에서 응용 프로그램의 콘텐츠에 대 한 표시 되는 사용자 지정 UI를 제공 합니다.

응용 프로그램 SiriKit 지원 하기 위해 의도 확장을 제공 해야 아니며 Siri 및 맵 사용자에 게 제공할 수 있는 정보를 제공 하 고 의도 처리 합니다.

Siri에서 일반적으로 모든 사용자 상호 작용을 처리 하 고 각 지원 되는 도메인에 정보를 제공 하는 것에 대 한 표준, 기본 제공 UI가 없으므로 의도 UI 확장명 만들기 (옵션). 응용 프로그램 의도 UI 확장을 제공 하 여 사용할 수는 **의도 UI** 는 다양 하 고 사용자 지정 사용자 인터페이스 특징으로 응용 프로그램의 브랜딩 제공 하기 위해 프레임 워크 및 추가 정보입니다.

## <a name="siri-and-the-maps-app-role"></a>Siri 및 지도 응용 프로그램 역할

사용자의 음성된 요청은 처리 및 의미 체계가 Siri 의도 확장을 처리할 수 있는 실행 가능한 의도에 이러한 요청 하 여 분석 하는 언어입니다.

지도 응용 프로그램의 의도 확장을 사용 하 여 사용자의 작업에 따라에서 지도 인터페이스에 정보를 표시 합니다. 근처의 식당을 요청 하거나 가져오기 등 응용 프로그램의 식당을 검토 합니다.

Siri와 지도 모든 사용자의 상호 작용을 관리 하 고는 표준 시스템 인터페이스를 사용 하 여 결과 표시 합니다. 응용 프로그램 확장 역할은 주로 표시 되는 데이터를 제공 합니다. 필요에 따라 응용 프로그램 의도 UI 확장을 제공 기본 시스템 인터페이스를 향상 시키기 위해 사용자 지정 UI를 표시 합니다.

## <a name="interacting-with-siri-via-sirikit"></a>Siri SiriKit 통해 상호 작용

이 섹션 SiriKit가 Siri를 사용 하 여 앱과 상호 작용을 허용 하는 방법을 대 한 개요를 제공 합니다. 이 예에서 사용할 예정 가짜 MonkeyChat 앱:

[![](understanding-sirikit-images/monkeychat01.png "MonkeyChat 아이콘")](understanding-sirikit-images/monkeychat01.png#lightbox)

MonkeyChat 유지 사용자의 친구의 연락처 자체 책, 각는 화면 이름 (예: Bobo 예:)와 관련 된 화면 이름 기준으로 텍스트 채팅 친구에 보낼 수 있습니다.

여러 가지 방법으로 사용자는 여러 형식으로 서로 다른 사람 같은 요청을 수행할 수 있으므로 앱과 상호 작용을 시작할 수 있습니다.

예를 들어 사용자를 자신의 친구 Bobo로 메시지 보내기 하 려 Siri와 다음 대화를 할 수 있습니다.

_사용자: Hey Siri, MonkeyChat 메시지를 보냅니다._<br />
_Siri:에 있습니까?_<br />
_사용자: Bobo 합니다._<br />
_Siri: 수행할 Bobo를 말 하 시겠습니까?_<br />
_사용자: 자세한 바나나 보내 주십시오._<br />

다른 사람이 다른 대화와 같은 요청을 확인 될 수 있습니다.

_사용자: MonkeyChat에 Bobo에 메시지를 보냅니다._<br />
_Siri: 수행할 Bobo를 말 하 시겠습니까?_<br />
_사용자: 자세한 바나나 보내 주십시오._<br />

하 고 다른 사용자는 더 짧게 요청을 만들 수 있습니다.

_사용자: MonkeyChat Bobo 자세한 바나나가 보내십시오._<br />
_Siri: 확인 메시지를 보내는 자세한 바나나를 보내십시오 Bobo Monkeychat에 있습니다._<br />

또는 다른 언어로 게 동일한 요청:

_사용자: MonkeyChat Bobo s'il vous plaît envoyer 플러스 de bananes 합니다._<br />
_Siri: Oui, envoi 메시지 s'il vous plaît envoyer + de bananes à Bobo 도메인 이름 얻기 Monkeychat 합니다._<br />

아직 다른 사용자의 대화에서 매우 자세한 정보 수 있습니다.

_사용자: Hey Siri를 수 있습니다 부탁 하십시오 보내려고 MonkeyChat 앱을 시작 하는 텍스트 메시지와 함께 자세한 바나나 보내 주시기 바랍니다._<br />
_Siri:에 있습니까?_<br />
_사용자: 내 최상의 pal Bobo 합니다._<br />

또한 Siri 요청이 수행 된 방식에 따라 일부 요청에 응답할 수 있는 다양 한 방법 있습니다.

- **홈 단추를 눌러** -Siri 더 많은 시각적 응답이에 제한 된 음성 피드백을 제공 합니다.
- **"Hey Siri" 하 여** -Siri 음성 더 되 고 더 적은 시각적 응답을 제공 합니다.

Siri는 또한 사용자의 액세스 가능성 요구 사항을 충족 하 고는 상호 작용 하 고 이러한 요구 사항에 따라 응답 조정 됩니다.

요청을 설정 하는 방법 또는 Siri 요청에 응답 하는 방법에 관계 없이 Siri 사용자와 대화를 처리 하 고 (확장)을 통해 앱 기능을 제공 합니다.

Siri의 구두 요청 하면 이러한 값은 단계 Siri을 따를 것입니다.

[![](understanding-sirikit-images/monkeychat02.png "Siri는 수행 하는 단계")](understanding-sirikit-images/monkeychat02.png#lightbox)

1. Siri에서 사용자의 오디오를 사용 하는 첫째, **음성** 텍스트로 변환 합니다.
2. 으로 텍스트를 변환 하는 다음으로 **의도**, 즉 사용자 요청으로 나타낸 구조입니다.
3. 의도에 따라 Siri 걸립니다 **동작** 사용자의 요청을 수행 하려면.
4. Siri 발표할 마지막으로, **응답** (시각적 및 음성) 수행 되는 동작에 따라 사용자에 게 있습니다.

앱 Siri와 사용자의 대화에 참여할 수 있는 세 가지 주요 방법이 있습니다.

[![](understanding-sirikit-images/monkeychat03.png "응용 프로그램 Siri와 사용자가 대화에 포함 될 수 있는지는 세 가지 주요 방법")](understanding-sirikit-images/monkeychat03.png#lightbox)

1. **어휘** -어떻게 앱 지시 Siri 알아야 상호 작용 하는 단어입니다.
2. **응용 프로그램 논리** -이 작업 및 응용 프로그램을 수행 하는 응답 의도 주어진 기반으로 합니다.
3. **사용자 인터페이스** -응용 프로그램에서의 응답을 제공할 수 있는 옵션, 사용자 지정 사용자 인터페이스입니다.

### <a name="example"></a>예제

위의 정보는 다음과 같은 대화 MonkeyChat 앱과 상호 작용 하는 방법을 없는지 확인 합니다.

_사용자: Hey Siri, MonkeyChat에 Bobo에 메시지를 송신 합니다._<br />
_Siri: 수행할 Bobo를 말 하 시겠습니까?_<br />
_사용자: 자세한 바나나 보내 주십시오._<br />

Siri 사용자의 음성 이해에 도움이 되는 응용 프로그램 대화를 수행 하는 첫 번째 역할이입니다.

[![](understanding-sirikit-images/monkeychat04.png "Siri 사용자 음성 이해할 수 있도록 지원")](understanding-sirikit-images/monkeychat04.png#lightbox)

Siri 없는 경우 해당 데이터베이스의 이름을 "Bobo" 있지만 응용 프로그램의 역할과 해당 어휘를 통해 Siri와이 정보를 공유 했습니다. 응용 프로그램 ּ µ ֻ Bobo 인지 받는 사람으로 Siri를 지정 했으므로 인식 Siri는 *연락처*합니다.

Siri는 메시지 콘텐츠가 필요한 경우 확인을 앱 확장명이 인 검사 신속 하 게 되므로 보다 받는 사람에만 메시지를 보내려고 필수임 자세히 알고 있습니다. Siri에서 질문을 사용 하 여 사용자 응답할 MonkeyChat가 있으므로: *"수행할 Bobo에 게?"*

위의 예에서 사용자가 응답을 *"자세한 바나나 보내 주십시오."*, Siri는 구조적으로 모읍니다는 **의도**:

[![](understanding-sirikit-images/monkeychat05.png "Siri 구조적된 의도로 사용자의 응답을 번들 됩니다.")](understanding-sirikit-images/monkeychat05.png#lightbox)

구조적된 의도는 다음 정보가 포함 됩니다.

- **도메인:** 메시지
- **의도:** sendMessage
- **받는 사람:** Bobo
- **콘텐츠:** 자세한 바나나를 보내 주세요

집합으로 모든 도메인에 알고 *동작* 0 개 매개 변수는 의도에 포함 될 수 있습니다 앱에 전송 하는 수에 내에서 수행 있고 도메인 및 작업에 따라, 합니다.

의도에 전송 됩니다에 대 한 앱 확장을 처리 합니다. 따라서의 의도 처리, 응용 프로그램 생성 됩니다는 **IntentResponse** 목적으로 제공 되는 및 어떤 앱 앱 점에 만족 하셨나요 목적으로 설명 하는 매개 변수를 포함 합니다.

각 IntentResponse도 포함 됩니다는 **응답 코드** 앱이 여부는 요청을 완료할 수 있는지 Siri 지시 합니다. 일부 도메인은도 전송 될 수 있는 매우 구체적인 오류 응답 코드가 있습니다.

마지막으로 IntentResponse 포함 됩니다는 `NSUserActivity` (손 오프 지 원하는 데 사용 되는 등). `NSUserActivity` Siri 환경을 유지 하 고 응용 프로그램에서 완료할 입력에 응답 해야 하는 경우 응용 프로그램을 실행 하는 데 사용 될 됩니다. 

Siri에서 자동으로 적절 한 빌드합니다 `NSUserActivity` 여기서 하였다가 Siri 환경에서 응용 프로그램 및 픽업 시작 합니다. 그러나 응용 프로그램 수 자체 제공 `NSUserActivity` 와 정보를 사용자 지정, 필요한 경우.

응용 프로그램 의도 처리 하 고 Siri에 대 한 응답을 반환 했습니다, 후 다음 사용자에 게 쿼리 결과 표시 (구두로 및 시각적으로):

[![](understanding-sirikit-images/monkeychat06.png "구두로 및 시각적으로 사용자에 게 결과")](understanding-sirikit-images/monkeychat06.png#lightbox)

Siri 각 앱에 사용할 수 있는 도메인에 대 한 몇 가지 기본 제공 응답 사용자 인터페이스에 있습니다. 그러나 MonkeyChat 선택적 의도 UI 확장에서 제공 하 고, 이후 위의 예제에서 사용자에 게 대화의 결과 표시 하도록 사용 됩니다.

## <a name="the-intent-lifecycle"></a>의도 수명 주기

앱 확장 의도 처리할 때 수행 해야 하는 세 가지 기본 태스크가 있습니다.

[![](understanding-sirikit-images/monkeychat07.png "의도 수명 주기")](understanding-sirikit-images/monkeychat07.png#lightbox)

1. 응용 프로그램 해야 **해결** 모든 매개 변수는 이벤트를 처리 합니다. 결과적으로, 응용 프로그램 요청 항목에 대 한 응용 프로그램 및 사용자 동의 될 때까지 동일한 매개 변수에 (한 번 각 매개 변수당)를 여러 번 및 경우에 따라 여러 번 Resolve를 호출 합니다.
2. 응용 프로그램 해야 **확인** 는 요청 된 의도 처리 하 고 Siri 예상된 결과 대 한 알 수 있습니다.
3. 마지막으로, 응용 프로그램 해야 **처리** 의도 하 고 요청 된 결과 달성 하는 단계를 수행 합니다.

### <a name="the-resolve-stage"></a>해결 단계

해결 단계 Siri 사용자가 제공 하 고 어떤 사용자가 실제로 사용 된 응용 프로그램 의도 처리할 때 어떤 동작이 발생 하는 값을 이해할 수 있습니다. 

이 단계는 또한 사용자와 대화 하는 동안 Siri의 동작에 영향을 줄 수 있는 기회를 제공 합니다. 이 위해 응용 프로그램에서는 한 **확인 응답**합니다. 다양 한 유형의 Siri 이해할 수 있는 데이터에 대 한 미리 정의 된 응답의 여러 가지가 있습니다.

가장 일반적인 응용 프로그램에서 확인 응답 됩니다 **성공**, 즉 응용 프로그램에서에서 일치 하는지 확인할 데이터의 특정 부분 (예: 사용자 화면 이름) 매개 변수 정보에 대해 알고 하나의에 있습니다.

지정된 된 요청에 대해 알고 정보의 올바른 부분 일치 하는지 확인 하려면 필요한 응용 프로그램 시간이 있을 수 있습니다. 이러한 경우 보냅니다는 **ConfirmationRequired** 사용자에 게 질문을 예 또는 아니요를 같은 게시에 대 한 응답 *"송신 메시지를 Bobo 유용한?"*

여기서 응용 프로그램 사용자에 게 옵션의 짧은 목록에서 선택 내용의 경우도 있을 수 있습니다. 응용 프로그램에서는 경우에 **명확성** 같은 중에서 선택 하려면 사용자에 대 한 2 ~ 10 옵션 목록과 함께 응답: 

```csharp
Who do you want to message?

* Bobo the Great
* Bobo Jr.
* Little Bobo
```

Siri 구두로 또는 Siri UI 상호 작용 하 여 선택 영역을 수행 하는 사용자를 처리할 및 결과 앱으로 다시 전송 됩니다.

다른 경우에는 매개 변수를 해결 하려면 앱에 대 한 충분 한 정보 수 없는 경우 또는 일치 하는 항목 (예: 80 이름에 Bobo 사용자) 명확성을 사용 하 여 확인할 수 있습니다. 이 경우에는 앱에서는 전송는 **NeedsMoreDetails** 응답 및 Siri 더 구체적으로 사용자를 기준으로 묻습니다.

사용자에 대 한 의도 프로세스에 필요한 값을 제공 하지 않은 경우 보낼 수는 **NeedsValue** Siri 값에 대 한 사용자가에 대 한 응답입니다.

응용 프로그램에서 특정 매개 변수에 대 한 사용자가 제공 하는 값을 지원 하지 않는 경우 보낼 수는 **UnsupportedWithReason** 대 한 응답으로 값이 지원 되지 않은 이유는 이유를 제공 합니다. Siri 완전히 새로운 값에 대 한 사용자를 묻습니다 다음 아니며에 지정 된 이유 필요 합니다.

마지막으로 사용 하 여는 **NotRequired** 위해 응답 Siri는 응용 프로그램 지정된 된 매개 변수에 대 한 값이 필요 하지 않습니다. 제공 하는 경우 하나 그래도, 단순히 Siri에서 무시 됩니다.

### <a name="the-confirm-stage"></a>확인 단계

확인 단계는 두 가지 용도로 사용 됩니다.

- 하기가 Siri 예상된 결과에 Siri 알 수는 사용자 작업이 발생 하는 상황을 프로그램 의도 처리 합니다.
- 응용 프로그램 요청된 지불 되도록 은행에서 자금이 충분 하는 등 사용자가 제공 된 요청을 완료 해야 할 수도 필요한 상태 기회 검사도 제공 합니다.

응용 프로그램에서는 **의도 응답** 확인 단계에서를으로 채워져야 할지 Siri 통신할 수 있도록 해당 효과적으로 사용자 정보를 어느 응용 프로그램에 사용할 수 있습니다.

도메인 및 작업 형식에 따라, Siri 넣으라는 메시지를 사용자에 게 확인을와 같은 지불 보내거나는 안에서 예약 하기 전에.

### <a name="the-handle-stage"></a>핸들 단계

처리 단계에는 의도 응용 프로그램 작업을 수행 하 라는 표시 된 작업을 수행 하 여 사용자의 요청을 충족 하는 지점 이므로 작업의 가장 중요 한 부분입니다.

확인 단계에서 팩트 테이블 하는 것 처럼 앱 Siri이 사용자에 게 연결할 수 있도록 가능한 결과 대 한 많은 정보를 제공 해야 합니다. 경우에 따라이 정보 나타납니다 시각적으로 또는 다른 Siri 경우 단순히 말합니다 것 다시 사용자에 게 합니다. 

응용 프로그램에 네트워크 호출 지연 같은 지정된 된 요청을 처리 하는 데 약간의 시간이 필요할 수 있습니다 또는 라이브 개인 (예: 완료 및 배송 주문 또는 사용자의 위치에 자동차 운전) 요청을 수행 해야 할 경우 시간이 수 있습니다. 응용 프로그램에서 다시 응답을 기다리고 Siri 대기 UI 응용 프로그램 요청 처리 하 라는 사용자에 게 표시 됩니다.

이상적으로 응용 프로그램 제공 해야 Siri에 대 한 응답에 2 ~ 3 초 내 많아야 합니다. 보내는 데 필요한 응용 프로그램 프로세스에 걸리는 것으로 주어진된 응답 된다는 것을 알고는 **InProgress** Siri 응답 코드입니다. 응용 프로그램 백그라운드에서 요청을 처리 하 고 Siri 환경을 유지 하는 경우에 이렇게 계속 Siri는 다음 사용자에 알립니다.

## <a name="adding-sirikit-to-the-app"></a>SiriKit 응용 프로그램에 추가

IOS 10에서에서 SiriKit, 사과 두 개의 새 확장 요소를 만들어:

- **의도 확장** -Siri 응용 프로그램의 콘텐츠를 제공 하 고 모든 지원 되는 의도 처리 하는 데 필요한 작업을 수행 합니다.
- **의도 UI 확장** -Siri 내부에서 응용 프로그램 콘텐츠에 대 한 표시 되는 사용자 지정 UI를 제공 합니다. 

단어와 구에 적용 Siri의 형태로 인식 지원 하기 위해를 제공 하기 위한 API 이기도 합니다.

- **응용 프로그램 어휘** -단어 및 구를 응용 프로그램의 모든 사용자에 게 공통 된 합니다.
- **사용자 어휘** -단어와 구 지정된 앱 사용자에 게 고유 합니다.

## <a name="the-intents-extension"></a>의도 확장

의도 확장은 다음과 같이 앱과 Siri 간의 주요 상호 작용을 처리 하기 위한 수행 합니다.

[![](understanding-sirikit-images/intents01.png "의도 확장")](understanding-sirikit-images/intents01.png#lightbox)

의도 확장 하나 이상의 의도 지원할 수 있습니다에 개발자 SiriKit 응용 프로그램에서 구현 하려는 방법을 결정 합니다. 개발자 처리할 필요 없이 각 의도 대 한 별도 의도 확장 추가할 수도 있습니다.  즉, Apple 요청 개발자 Siri 열고 응용 프로그램에 대해 더 많은 메모리와 시간을 처리 해야 하는 여러 프로세스에 없는 있도록 의도 확장명의 수를 제한 합니다.

개발자 있는지도 알아야 의도 확장 Siri 활성 상태인 동안 백그라운드에서 실행 됩니다. 이렇게 하면 사용자와 대화를 요청 하는 방법에 대 한 정보를 처리 하는 확장와 계속 통신 중에 적극적으로 수행 하기 위해 Siri가 있습니다.

## <a name="privacy-and-security-considerations"></a>개인 정보 보호 및 보안 고려 사항

Apple 훌륭한 측정값 Siri 작업할 때 정보를 안전 하 고 이와 같이 사용자가 iOS 장치에 로그인 하는 여러 가지 상호 작용은 개인 사용자 확인을 수행 했습니다. 예를 들어, 한 안에서 요청할 때 지불 만들기를 참조 합니다.

또한 앱이 장치에 로그인 하는 사용자에 게 제한 해야 할 수도 있는 특정 동작이 있습니다. 이러한 상황에서는 응용 프로그램 요청할 수는 **제한 하는 동안 잠긴** 동작 합니다. 설정을 통해 이렇게는 `Info.plist` 파일입니다.

로컬 인증 프레임 워크를 사용할 수 의도 확장에 대 한 응용 프로그램 사용자 추가 인증 정보를 요청할 수 있도록 장치가 이미 잠금 해제 되어 있는 경우에.

마지막으로, Apple Pay 되므로 의도 확장에 사용할 수 있는 앱 Apple Pay를 사용 하 여 트랜잭션을 완료할 수 있으며 기본 제공 Apple Pay 시트 Siri 인터페이스 보다 위에 표시 됩니다.

Apple 사용자 정보는 3 번째 파티 앱 및 이와 같이 사용자를 보내는 시기를 알고 포함 되기를 원했습니다 또한 **해야** 때 해당 응용 프로그램 (앱의 번들 표시 이름에 지정된)의 특정 이름 예를 들어 요청 합니다.

Apple Siri 자연 스러운 대화 내용 사용자와이 때문에 수행 하는 설계, 응용 프로그램의 번들 이름 자연스럽 게에 적합 한 사용자의 요청 하는 경우에 많은 문장 요소를 사용할 수 있습니다.

사용자가 수행 하는 일반적인 작업 중 하나 경우 "verbify" 응용 프로그램의 이름, 즉, 응용 프로그램 이름 차지 하 고 사용 하 여 요청에서 동사 예를 들어 *"MonkeyChat Bobo 훌륭한 바나나 이러한 않았습니다."*

## <a name="the-intents-ui-extension"></a>의도 UI 확장

의도 UI 확장 응용 프로그램의 UI 및 Siri 환경에 브랜딩 영업 기회 수를 표시 하 고 생각 될 앱에 연결 된 사용자가 확인 합니다. 이 확장을 통해 응용 프로그램에는 브랜드 정보 뿐 아니라 시각 및 기타 대 본에 가져올 수 있습니다.

[![](understanding-sirikit-images/intents02.png "의도 UI 확장 출력 예")](understanding-sirikit-images/intents02.png#lightbox)

의도 UI 확장 프로그램은 항상 반환 된 `UIViewController` 앱 보기 컨트롤러가 초기 응답을 초과 하는 추가 정보를 보여 주는 예: 안에 배치할 수 아무 것도 추가할 수 있습니다. 의도 UI는 어느 정도 시간이 더 오래 걸립니다 공유의 위치에 도달 하는 자동차 안에서 같은 장기 실행 이벤트를 상태와 함께 사용자를 업데이트할 수도 있습니다.

의도 UI 확장은 항상 수는 UI의 맨 위쪽에 이름 및 응용 프로그램 아이콘 같은 다른 Siri 내용과 함께 표시 또는 의도에 따라, (예: 송신 또는 취소) 단추 아래에 표시 될 수 있습니다.

몇 가지 인스턴스가 앱 Siri 메시징 같은 기본적으로 사용자에 게 표시 하거나 응용 프로그램 응용 프로그램에 맞게 하나가 지정 된 기본 환경을 바꿀 수 매핑하는 정보를 바꿀 수 있습니다.

> [!IMPORTANT]
> 대화형 요소를 추가할 수 있지만 `UIButtons` 또는 `UITextFields` 의도 UI 확장 프로그램에 `UIViewController`, 이러한 엄격 하 게로 사용할 수 없습니다 의도 UI에 비 대화형 및 사용자 상호 작용할 수 없습니다.

응용 프로그램 의도 각 형식에 대 한 UI의 기본 집합을 포함 하는 Siri 있으므로 의도 UI 확장을 제공 하는 데 완전히 선택적입니다. 또한 의도 UI 인터페이스는만 사용할 수 있는 특정 Apple 간주가 의도 사용자에 게 유용할 것입니다.

## <a name="adding-sirikit-vocabulary"></a>SiriKit 어휘 추가

SiriKit 구현의 마지막 부분 필요한 어휘를 제공 하 여 응용 프로그램 내에 있습니다. 많은 응용 프로그램의 사용자와 사용자가 응용 프로그램에 정보를 제공 합니다 고유한 방법으로 정보를 설명 하는 고유한 가지 있습니다.

이 인해 Siri 단어 및 구를 응용 프로그램에 고유한 이해 하기 위해 응용 프로그램의 도움이 필요 합니다. 이러한 구문 중 일부 일부가 될 응용 프로그램의 모든 사용자를 파악 되 고 이해 되도록 합니다. 아직 다른 응용 프로그램의 지정된 된 사용자에 설치 됩니다.

### <a name="app-specific-vocabulary"></a>응용 프로그램 특정 어휘

응용 프로그램 특정 어휘 모든 차량 형식 또는 워크 아웃 이름과 같은 응용 프로그램의 사용자를 특정 단어와 구를 임을 알 수를 정의 합니다. 에 정의 된 이러한 응용 프로그램의 일부 이므로 `AppIntentVocabulary.plist` 기본 응용 프로그램 번들의 일부로 파일입니다. 또한 이러한 단어와 구 지역화 해야 합니다.

어휘를 부분이 여러 개 `AppIntentVocabulary.plist` 파일:

- **사용 하 여 예제 응용 프로그램** -응용 프로그램의 사용자 수 있도록 하는 요청에 대 한 일반적인 사용 사례 집합을 제공 합니다. 예를 들어: *"앞에 워크 아웃 MonkeyFit."*
- **매개 변수** -응용 프로그램에 특정 비표준 매개 변수 형식 집합을 제공 합니다. 예를 들어 워크 아웃 이름을 MonkeyFit 앱에 대 한 합니다. 이러한 구성 됩니다.
    - **구** -앱의 앱에 대 한 고유한 용어를 정의할 수 있습니다. 예를 들어: MonkeyFit 앱에 대 한 "Bananarific" 워크 아웃 유형입니다. 
    - **발음** -특정된 구문에 대 한 간단한 발음 맞춤법으로 Siri에 발음 힌트를 제공 합니다. 예를 들어 "ba nana ri fic"입니다.
    - **예제** -응용 프로그램에서 특정된 구문을 사용 하는 예제를 제공 합니다. 예를 들어 *"시작 정도 Bananarific에 MonkeyFit"* 합니다.

자세한 내용은 Apple의를 참조 하십시오 [앱 어휘 파일 형식 참조](https://developer.apple.com/library/prerelease/content/documentation/Intents/Conceptual/SiriIntegrationGuide/CustomVocabularyKeys.html#//apple_ref/doc/uid/TP40016875-CH10-SW1)합니다.

### <a name="user-specific-vocabulary"></a>사용자 특정 어휘

사용자 특정 어휘는 단어 또는 구를 고유한 응용 프로그램의 개별 사용자에 게 제공할 것입니다. 이러한 목록의 시작 부분에 가장 중요 한 용어가 있는 사용자에 대 한 가장 중요 한 사용 현황 우선 순위 정렬 용어를 정렬 된 집합으로 기본 응용 프로그램 (앱 확장명 제외)에서 런타임 시 제공 될 예정입니다.

위에서 설명한 MonkeyChat 응용 프로그램의 예제를 살펴보십시오. MonkeyChat은 사용자 특정 어휘를 통해 Siri에 송신할 사용자의 연락처의 모든 목록을 유지 합니다. 사용자가 메시지 10 개의 가장 최근 연락처 목록이 유지 있으며 각 사용자에 대 한 즐겨찾기 연락처의 집합입니다. 이 예제에서는 즐겨 찾는 연락처 되어야 최근 연락처 뒤 우리의 사용자 특정 어휘의 시작 부분에 다음 사용자의 연락처의 나머지 부분 합니다.

다음과 같은 유형의 정보는 사용자 특정 어휘에서 지원 됩니다.

- 연락처 이름입니다.
- 워크 아웃 이름입니다.
- 사진 앨범 이름입니다.
- 사진 키워드입니다.

응용 프로그램 iOS 주소록을 사용 하는 경우이 정보를 이미 Siri로 모든 작업을 수행할 앱 않아도 됩니다. 앱만 응용 프로그램에 고유한 자체 데이터베이스 연락처의 경우 연락처 이름을 제공 해야 합니다.

어휘를 디자인할 때만 사용자가 알고 있고 관심 있는 필요한 값을 제공 합니다. 전화 번호 또는 전자 메일 주소와 같은 정보를 제공 하지 마십시오.

응용 프로그램 사용자 특정 어휘 변경 될 때 Siri를 신속 하 게 업데이트 해야 합니다. 사용자는 iOS 장치에 추가 된 인스턴트 Siri에서 정보를 요청에 익숙해져 됩니다. 예를 들어 응용 프로그램에서 새 연락처를 추가할 경우 해당 정보를 보냅니다 Siri 사용자가 저장 되는 즉시 합니다.

응용 프로그램 뿐만 아니라 _해야_ 정보 Siri 어휘에서 신속 하 게 때문에 삭제 한 사용자 수 될 화를 낼 정보를 삭제 하지만 Siri가 여전히 인식 하기 몇 시간이 나 일 후 합니다.

> [!IMPORTANT]
> 앱에서에서 제거 해야 모든 사용자에 게 특정 어휘 Siri 경우 또는 사용자가 응용 프로그램을 다시 설정 하도록 선택한 경우 이러한 로그 아웃 합니다.

## <a name="sirikit-permissions"></a>SiriKit 사용 권한

SiriKit의 마지막 부분에는 사용 권한을 중심 됩니다. IOS (사진, 카메라 연락처 등)의 다른 기능을 사용할 때 처럼 사용자 Siri를 설명 하는 앱에 대 한 명시적 사용 권한을 부여 해야 합니다.

앱은 Siri에 제공 하 고 이유와 함께 사용자가이 액세스 권한을 부여 해야 이유에 대 한 정보를 정의 하는 문자열을 제공할 수 있습니다. 

Apple 앱 Siri 첫 번째 시간 iOS 10 업그레이드 한 후 사용자가 앱을 열을 사용 하는 사용자 로부터 사용 권한을 요청 해야 제안 합니다. 이므로 사용자가 Siri 통합에 대해 알고 있고 처음 요청할을 확인 하기 전에 사전 승인 된 사용량을 수 있습니다.

## <a name="sirikit-and-maps"></a>SiriKit 및 지도

SiriKit iOS의 핵심 이며에서는 iOS 10에 추가 하는 보다 큰 의도 프레임 워크를 활용 합니다. 의도 프레임 워크는 시스템의 다른 부분과 공유 및 일반 작업 및 의도 공유 하도록 설계 되었습니다.

의도 프레임 워크가 Siri 통합만을 초과 하 고 기본 전화 통신 또는 특정 연락처에 대 한 메시징 응용 프로그램 응용 프로그램 될 수 있는 연락처 통합 등의 기타 기능을 제공 합니다. 또한 의도 CallKit 최상의 VOIP 환경을 제공 하기 위해 밀접 한 통합을 제공 합니다.

IOS 10에서에서 지도 앱 안에서 공유 사용자 지도 UI 내에서 직접 안에서 예약할 수와 같은 기능을 추가 했습니다. SiriKit은 안에서 공유 (및 다른) 의도 Siri 및 지도 간에 공유할 수 있도록 지도와 공통 확장 지점을 제공 합니다. 

이 경우 응용 프로그램에는 SiriKit 확장 채택 했습니다, 또한 가져오게 됩니다 지도 통합 무료로 것을 의미 합니다. 

## <a name="designing-a-great-siri-experience"></a>Siri 경험 디자인

Siri에 응용 프로그램을 통합 하는 경우 유용한 사용자 환경을 디자인 하는 것은 좋은 응용 프로그램의 사용자 인터페이스 디자인 다릅니다. 정상적인 상황에서 사용자가 응용 프로그램에 대해 직접 상호 작용 하는 위치와 달리 화면에서 Siri 있습니다 사용할 때는 여러 번 경우 시각적 인터페이스가 없는 표시 전혀 있습니다. 예를 들어 시작 될 때 사용자가 대화를 *"Hey Siri"* 합니다.

### <a name="how-siri-helps-the-developer"></a>Siri 개발자를 통해 하는 방법

응용 프로그램을 빌드하는 Siri와 응용 프로그램의 상호 작용을 디자인할 때는 *대화 인터페이스*, Siri 대신 하 여 응용 프로그램의 사용자와 중인 대화에서 파생 되는 컨텍스트를 의미 합니다.

시각적 참조는 없는 경우, 사용자 해야는 추적의 머리에 제공 되는 정보. Siri이로 인해 작업을 수행 하는 데 필요한 사용자가을 수행 하려는 완전 최소 정보를 표시 합니다.

대화형 인터페이스 받게 되는 질문과 대답에서 사용자와 Siri 대화 중. 따라서이 Siri 몇 가지 질문 하 고이 인터페이스를 디자인할 때 응답 하는 방법에 대해 생각 하는 것이 중요 합니다.

Siri에서 질문을 사용 하 여 응답할 수 있습니다는 메시지를 만드는 사용자의 다음 예제 *"전송할 준비?"* . 사용자와 같은 다양 한 방법으로 응답할 수 *"Send"*, *"취소"* 작업도 완전히 무관 하 게이 질문 또는 합니다. 대화 되 어떻게에 관계 없이 Siri 응용 프로그램에 대 한 처리 되며 해당 페이지를 보낼 관련 정보를 사용할 수 있도록 합니다.

사용자의 Siri와 대화를 초기화 하는 여러 가지 방법으로

- 장치를 선택, 하 여 홈 단추를 누르면 됩니다. 이 상황에서 Siri 보다 시각적 인터페이스 및 적은 구두 응답을 제공 합니다.
- 라는 여 *"Hey Siri"* 바늘 무료 대화를 시작 합니다. 이 상황에서 Siri 덜 visual 및 더 구두 됩니다.
- 예: bluetooth 내게 필요한 옵션 기능을 사용 하 여 특별 한 요구 사항이 있는 사용자에 대 한 UI 조정할 수는 여기서 청각 보조 기능을 사용할 수 있습니다.
- 자동차 사용자 주의 유지 해야 하는 재생을 사용 하 여 초점을 방해 요소를 최소한으로 유지 하 여 제어 합니다.

### <a name="how-the-developer-helps-siri"></a>Siri를 통해 개발자는 방법

Siri와 응용 프로그램을 통합할 때 개발자는 이러한 통합을 자주 테스트 하 고 최대한 많은 다른 방법으로 정보 또는 작업의 동일한 부분이 문의 하 여 많은 다른 요청을 하는 것을 확인 해야 합니다.

두 사람 모두에 게 인지, 때문에 개발자 가져옴을 만큼 다른 베타 테스터를 세부적으로 조정 가능한 Siri 통합 중요 합니다. 사용자가 정보에 대 한 요청할 수도 있고 만들기 요청 방식에서 개발자 하지만 하지의 광범위 한 사용자 그룹 한지 Siri와 응용 프로그램을 사용 하 여 멋진 경험 하 게 할 수 있습니다이 미세 조정 합니다.

다양 한 상황 및 환경에서 테스트 합니다. Siri에서 모든 이러한 대화 유체 유지 가능 하 고 자연 스러운 방법을 사용 하 여 대화를 시작 합니다. 여기서 사용자 것이 더 사용 될 수는 앱 같은 꽉된 gym에서 위치에서 테스트 합니다.

응용 프로그램 하는 Siri 제대로 사용자에 게는 요청 및 결과 나타내는 데 필요한 정보를 모두 제공 되 고 있는지 확인 합니다. Siri 바늘 무료 상황에서 사용 하는 경우 특히 유용 합니다.

### <a name="siri-design-guidelines"></a>Siri 디자인 지침

항상 Siri 대화 사용자를 대신 하 여 응용 프로그램은 데 기억 합니다. 개발자 하려고이 대화에 유지 된다는 알 수 없는 유체 고 최대한 자연 스러운 것으로 합니다.

때 중요 한 모든 대화와 마찬가지로 개발자는 다음을 확인 해야 합니다.

- 응용 프로그램 준비를 완료 했는지 대화에 대 한 합니다.
- 수신 하는 응용 프로그램 사용자에 게 정확히 무엇을 수행 하 려 합니다.
- 응용 프로그램 적절 한 시간에 적절 한 질문을 요청 합니다.
- 응용 프로그램 사용자가 검색 되는 정보를 사용 하 여 요청에 응답 합니다.

#### <a name="preparing-for-the-conversation"></a>대화에 대 한 준비

첫 번째 점이 응용 프로그램의 사용자가 개발자와 동일 하 게 되도록 이동 되지 않습니다. 서로 다른 배경에에서 여러 언어 또는 응용 프로그램을 작업할 때 특별 한 요구 사항이으로 수행할 수 있습니다.

또한 개발자 설계 및 응용 프로그램을 구축 하는 이후 서로 깊어서 모두 응용 프로그램 내부 작업 및 함수는 일반 사용자 된 항목이 많지 않은 잘 알아야 합니다. 따라서 개발자는 일반 사용자 다르게 Siri의 요청을 요청할 수 있습니다.

이 때문에 Siri 통해 앱와 가능한 많은 다른 사람들이 상호 작용으로 중요 합니다. 사용자 또는 개발자 고려 하는 방법으로 개발자 생각 되지가 Siri 통해 앱의 요청을 만들 수 있습니다.

#### <a name="ensure-the-app-is-a-good-listener"></a>앱은 적절 한 수신기를 확인 하십시오.

개발자는 응용 프로그램 좋은 수신기 이며 곧 사용자의 예상을 충족 하는 대화의 구체적인 내용을 확인 해야 합니다. 하지만은 제공 하지 않았을 수는 요청한 작업을 수행 하는 앱에 필요한 정보를 모두 수 이기도 합니다.

여러 가지 방법으로 앱은 이러한 상황을 처리할 수 없습니다.

- **누락 값에 대 한 좋은 기본 선택** 공유 앱 안에서 기본적으로 사용자의 현재 위치에서 선택 하고자 할 지정 하지 않았거나 예입니다.
- **추측 하기** -사용자 응용 프로그램에 수집 되는 특정 정보를 사용 하 여 응용 프로그램 수 사용자의 연락처 정보에서 누락 된 휴대폰 번호를 입력 하는 등의 누락 된 정보를 추측할 ल ी च ो. 그러나 주의 해야 등 가장 비용이 많이 드는 옵션을 선택 하는 등의 잘못 된 상황을 방지 하려면.
- **추가 정보에 대 한 프롬프트** -앱 Siri 누락 된 값에 대 한 사용자를 가질 수 있습니다. 그러나 여기에서 키 설정은 더 간결 하 고 간단한 대화 동기화가 있습니다. 사용자의 요청을 달성 하기 위해 몇 가지 질문에 대답 하는 경우 안 좋네요. 신속 하 게 될 수 있습니다.
- **잘못 된 정보 정상적으로 처리** -사용자 응용 프로그램에 필요한 되지 않은 또는 지정된 된 컨텍스트를 처리할 수 없는 값을 제공할 수 있습니다. 이러한 상황에서 사용자에 게 명확 하 고 쉽게 해결 하도록 하는 방법의 응용 프로그램에 연결 됨 있는지 확인 합니다.

응용 프로그램을 확인 하는 단일 값으로 표시 되 면이 처리 하는 기본 방법은 때 Siri 확인에 대 한 사용자에 게 있어야 합니다. 예를 들어 *"아닌지 Bobo 유용한?"* , 하는 간단한 예 또는 아니요 응답에 응답할 수입니다.

몇 가지 가능한 선택 항목을 단일 값에 대 한 올바른 될 수 있는 상황 이면 명확성 기본 처리 방법입니다. 이 상황에서 Siri 최대 10 개의 가능한 옵션에서 선택할 수 있는 사용자를 표시할 수 있습니다. 예를 들어:

```csharp
Who do you want to send the message to?

* Bobo the Great!
* Bobo Jr.
* Little Bobo
```

여전히에 있는 경우 질문을 지정된 된 값에 대 한 보다 구체적인, 완전히 새로운 응답을 제공 하 라는 Siri 있는데

#### <a name="request-final-confirmation"></a>최종 확인 요청

응용 프로그램에서 실제로 사용자의 요청을 충족 하는 태스크를 수행 하기 전에 모든 개체 위치에 존재 하도록 응용 프로그램 확장명이 Siri 확인 합니다. 예를 들어 사용자가 자금이 충분 요청한 결제를 자신의 계정을?

또한 응용 프로그램을 제공 가능한 정보를 모두 Siri를 사용자에 게 표시 하 고 작업을 수행할 수의 기대치를 충족 하는지 확인할 수 있도록 확인 해야 합니다.

요청 및 앱에서 사용자가 확인 되 면를 수행한 것은 응용 프로그램 요구 사항을 다시 있는지 것에 결과 모두 다시 제공 Siri 되므로 해당 사용자에 게 연결 될 수 있습니다.

#### <a name="responding-to-the-request"></a>요청에 응답

Siri는 도메인 및 작업에 대해 알고을 각각에 대해 여러 기본 제공 사용자 인터페이스에 있습니다. 그러나 적절 한 경우 응용 프로그램 사용자 경험 응용 프로그램의 브랜딩 및 UI 또는 요청에 있었던 것 보다 많은 정보를 제공 하 여 보강 하기 위해 사용자 지정 의도 UI 확장을 제공할 수 있습니다.

즉, 지지대 Siri에 대 한 사용자 지정 인터페이스를 디자인할 때 사용 해야 합니다. 일반적으로 사용자는 한 특정 작업을 가능한 한 빠르게 수행 하려는 하 고 불필요 한 정보는 오버 로드 될 하려고 하지 않습니다.

또한 주의 해야 사용자 지정 UI 모양과 다른 iOS 장치 및 사용자 있을 수 있습니다 또는 수를 사용 하 여 장치 방향을 모두에 대해 올바르게 반응 하도록 합니다.

적절 한 경우 기본 Siri UI에에서 이미 있는 모든 중복 정보를 숨기려면 SiriKit API를 사용 합니다. 아직 있는지 응용 프로그램은 여전히 정보를 제공 하 Siri를 나타낼 수 있는 것 구두로 바늘 가능한 경우에 있도록 확인 합니다.

Siri 사용자가 요청 사진 표시와 같은 사용자의 요청을 충족 하는 앱이 시작 됩니다 있는 경우가 있을 수 있습니다. 이러한 상황에서는 하지 않는 사용자에 게 불편 합니다. 중간 단계 또는 필요한 상호 작용에 더 이상 필요 없이 예상한 정보를 표시 합니다. 정보를 표시 하지 하거나 사용자가 필요 없는 작업을 수행 합니다.

### <a name="polishing-the-design"></a>디자인 개선

Apple 폴란드어 대화 인터페이스의 디자인을 제안 하는 여러 단계가 있습니다. 첫째, 명확 하 고 간결한 어휘 및 사용 사례 예제 Siri 제공 하 여 되었습니다.

Siri 및 요청을 사용 하 여 대화를 시작 하 여 사용자 응용 프로그램에서 검색 하는 방법 중 하나는 *"수행할 수 있는?"* Siri는 개발자의 앱 등을 수행할 수와 예제 hero 사용 사례를 통해 제공에 몇 가지 표시 해당 `plist` 파일입니다.

좋은 예로 사용 사례를 작성 하는 방법:

- 예로 응용 프로그램 이름이 있는지 확인 합니다.
- 예제에서는 짧고 포인트를 유지 합니다.
- 각 지 원하는 응용 프로그램 의도 대 한 여러 가지 예제를 제공 합니다.
- 의도 예제 응용 프로그램에 대 한 가장 일반적인 사용 사례에 따라 내에서 우선 순위가 매겨집니다.
- 응용 프로그램 지역화 된 예제를 제공 하는지 확인 합니다.
- 각 예에서는 응용 프로그램 내에서 예상 대로 작동 제공 되도록 합니다.
- Siri 같은 텍스트를 포함 하지 않는 예제에서 주소 지정을 피합니다 *"Hey Siri..."*
- 와 같은 모든 불필요 한 pleasantries 방지 *"하십시오"* 또는 *"감사 합니다."* 합니다.

탐색 하 고 앱 Siri 대신 하 여 사용자와 중인 대화 모양을 지정할 수 있는 방법에 대 한 실험 적절 한 보세요. 와 상호 작용으로 프로세스 중에 일반 사용자에 게 문의 해야 하 고 응용 프로그램의 예상 시간이 지남에 따라 변경 될 수 있습니다.

항상 다양 한 상황에서 응용 프로그램 및 Siri와의 대화를 호출 하는 데 여러 가지 방법을 모두 테스트 해야 합니다. 테스트 실제 위치에 사용자의 사용 중일 수 office 및 지원 센터에서 응용 프로그램입니다.

사용 하 여 대화 Siri (앱) 대신 하 여 유체 자연이 고, "좋아요 생각" 노력 합니다. 

## <a name="summary"></a>요약

이 문서 SiriKit를 사용 하는 데 필요한 iOS 장치에서 Siri와 지도 응용 프로그램을 사용 하는 사용자에 액세스할 수 있는 서비스를 제공 하도록 Xamarin.iOS 앱과 상호 작용할 수를 표시 및 핵심 개념 검사가 수행 됩니다.




## <a name="related-links"></a>관련 링크

- [ElizaChat 샘플](https://developer.xamarin.com/samples/monotouch/ios10/ElizaChat/)
- [SiriKit 프로그래밍 가이드](https://developer.apple.com/library/prerelease/content/documentation/Intents/Conceptual/SiriIntegrationGuide/index.html)
- [의도 프레임 워크 참조](https://developer.apple.com/reference/intents)
- [의도 UI 프레임 워크 참조](https://developer.apple.com/reference/intentsui)
